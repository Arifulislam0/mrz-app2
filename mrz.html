<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arifulcom - Global MRZ Generator</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; padding: 15px; margin: 0; }
        .container { max-width: 650px; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin: auto; border-top: 8px solid #007bff; }
        .header { text-align: center; margin-bottom: 20px; }
        .brand { font-size: 35px; font-weight: 900; color: #007bff; text-transform: uppercase; margin: 0; letter-spacing: 2px; }
        .tagline { font-size: 14px; color: #666; }
        
        /* Ad Section Style */
        .ad-placeholder { width: 100%; height: 90px; background: #ebedef; margin: 15px 0; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #999; font-size: 12px; border: 1px dashed #ccc; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        label { display: block; font-weight: bold; font-size: 12px; color: #444; margin-bottom: 4px; }
        input, select { width: 100%; padding: 12px; border: 2px solid #eaeeef; border-radius: 10px; box-sizing: border-box; font-size: 14px; }
        
        .gen-btn { width: 100%; padding: 15px; background: #007bff; color: white; border: none; border-radius: 12px; margin-top: 20px; cursor: pointer; font-size: 18px; font-weight: bold; transition: 0.3s; }
        .gen-btn:hover { background: #0056b3; }
        
        .result-box { margin-top: 25px; background: #1a1a1a; padding: 20px; border-radius: 15px; border: 2px solid #333; }
        #mrz-output { font-family: 'Courier New', Courier, monospace; font-size: 18px; letter-spacing: 3px; white-space: pre-wrap; color: #00ff41; line-height: 1.6; display: block; text-align: center; }
        
        .copy-btn { width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 10px; margin-top: 10px; cursor: pointer; font-size: 16px; font-weight: bold; display: none; }

        /* Income/Payment Section */
        .income-box { margin-top: 30px; padding: 20px; background: #fff3cd; border: 1px solid #ffeeba; border-radius: 15px; text-align: center; }
        .bkash-text { font-weight: bold; color: #e2136e; font-size: 18px; margin-bottom: 10px; display: block; }
        .support-btn { display: inline-block; padding: 10px 25px; background: #e2136e; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; margin-top: 5px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 class="brand">Arifulcom</h1>
        <p class="tagline">World-Class Passport MRZ Generator</p>
    </div>

    <div class="ad-placeholder">
        Advertisement Space (Auto-Ads)
    </div>

    <div class="grid">
        <div><label>SURNAME</label><input type="text" id="lname" placeholder="KOPIL"></div>
        <div><label>GIVEN NAMES</label><input type="text" id="fname" placeholder="FAGUNI"></div>
        <div><label>PASSPORT NO</label><input type="text" id="pnum" maxlength="9" placeholder="HK0963780"></div>
        <div><label>COUNTRY CODE</label><input type="text" id="country" value="MMR"></div>
        <div><label>DOB (YYMMDD)</label><input type="text" id="dob" placeholder="030423"></div>
        <div><label>GENDER</label>
            <select id="sex"><option value="M">Male (M)</option><option value="F">Female (F)</option></select>
        </div>
        <div><label>EXPIRY (YYMMDD)</label><input type="text" id="expiry" placeholder="310128"></div>
        <div><label>PERSONAL NO</label><input type="text" id="personalNum" placeholder="NID or Personal No"></div>
    </div>

    <button class="gen-btn" onclick="generateMRZ()">GENERATE MRZ</button>

    <div class="result-box">
        <code id="mrz-output">Output will appear here...</code>
    </div>
    
    <button id="copyBtn" class="copy-btn" onclick="copyToClipboard()">COPY MRZ CODE</button>

    <div class="income-box">
        <span class="bkash-text">বিকাশ/নগদ (পারসোনাল): 01981071493</span>
        <p style="margin: 5px 0; font-size: 13px; color: #856404;">সার্ভিসটি ভালো লাগলে আমাদের সাপোর্ট করতে পারেন।</p>
        <a href="tel:01981071493" class="support-btn">Send Donation</a>
    </div>

    <div class="ad-placeholder">
        Advertisement Space (Auto-Ads)
    </div>
</div>

<script>
    function calcCheckDigit(data) {
        const weights = [7, 3, 1];
        let sum = 0;
        for (let i = 0; i < data.length; i++) {
            let char = data[i];
            let val = 0;
            if (char >= '0' && char <= '9') val = parseInt(char);
            else if (char >= 'A' && char <= 'Z') val = char.charCodeAt(0) - 55;
            else val = 0; 
            sum += val * weights[i % 3];
        }
        return sum % 10;
    }

    function generateMRZ() {
        let f = document.getElementById('fname').value.toUpperCase().trim().replace(/ /g, '<');
        let l = document.getElementById('lname').value.toUpperCase().trim().replace(/ /g, '<');
        let p = document.getElementById('pnum').value.toUpperCase().trim().padEnd(9, '<');
        let c = document.getElementById('country').value.toUpperCase().trim().substring(0,3);
        let dob = document.getElementById('dob').value.trim();
        let s = document.getElementById('sex').value;
        let exp = document.getElementById('expiry').value.trim();
        let pNumIn = document.getElementById('personalNum').value.toUpperCase().replace(/[^A-Z0-9]/g, '');
        let pNum = pNumIn.padEnd(14, '<');

        if(!dob || !exp || !p.replace(/</g,'')) { alert("সব তথ্য সঠিকভাবে পূরণ করুন!"); return; }

        let line1 = ("P<" + c + l + "<<" + f).padEnd(44, '<').substring(0,44);
        let cp = calcCheckDigit(p), cd = calcCheckDigit(dob), ce = calcCheckDigit(exp), cpn = calcCheckDigit(pNum);
        let comp = p + cp + dob + cd + exp + ce + pNum + cpn;
        let cf = calcCheckDigit(comp);

        let line2 = p + cp + c + dob + cd + s + exp + ce + pNum + cpn + cf;
        line2 = line2.padEnd(44, '<').substring(0,44);

        document.getElementById('mrz-output').innerText = line1 + "\n" + line2;
        document.getElementById('copyBtn').style.display = 'block';
    }

    function copyToClipboard() {
        const text = document.getElementById('mrz-output').innerText;
        navigator.clipboard.writeText(text).then(() => { alert("MRZ Code Copied!"); });
    }
</script>

</body>
</html>